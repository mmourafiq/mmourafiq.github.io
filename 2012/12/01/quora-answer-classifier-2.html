<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quora Answer Classifier (Part 2, with KNN). &mdash; Mourad Mourafiq</title>
    <!--[if lt IE 9]><script src='https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js'></script><![endif]-->
    
    <link rel="stylesheet" href="/assets/app.css">
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

<script>
  var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-34892053-1', 'auto');
  ga('send', 'pageview');
</script>



    <link rel="shortcut icon" href="/favicon.ico?v2" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Mourad Mourafiq" href="/atom.xml" />
    <meta name="title" content="Quora Answer Classifier (Part 2, with KNN). ">
    <link rel="canonical" href="http://mourafiq.com/2012/12/01/quora-answer-classifier-2.html">
    <meta property="og:title" content="Quora Answer Classifier (Part 2, with KNN)."/>
    <meta property="og:url" content="http://mourafiq.com/2012/12/01/quora-answer-classifier-2.html"/>
    <meta property="og:image" content="http://mourafiq.com/images/posts/quora.png"/>
    
    <meta property="og:description" content="Designing an algorithm to develop classifier that is able to tell good answers from bad answers, as well as humans can."/>
    <meta name="description" content="Designing an algorithm to develop classifier that is able to tell good answers from bad answers, as well as humans can."/>
    
    <meta property="og:site_name" content="Mourad Mourafiq">
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>

<body>

    <header class="site-header">
        <nav>
            <a class="brand" href="/">
                <img src="/images/logo.png" alt="Inc">
            </a>
            <a href="/about.html">About</a>
        </nav>
    </header>

    
<div class="cover  article-cover " style="background-image:url(/images/posts/quora.png)"></div>


<div class='cover-caption'><a href='/about.html#pictures'>Quora</a></div>


<article >
    <div class="container">
        <header>
            
            <div class="meta">
                <!--
                By
                <address><a rel="author" href="" title="Mourad Mourafiq." target="_blank">
                    Mourad Mourafiq.
                </a></address> &mdash;
                -->
                <time pubdate datetime="2012-01-December" title="Dec 01, 2012">
                    Dec 01, 2012
                </time> &mdash;
                
16 min read
            </div>
            
            <h1 class="title">Quora Answer Classifier (Part 2, with KNN).</h1>
            <h2 class="subtitle">Designing an algorithm to develop classifier that is able to tell good answers from bad answers, as well as humans can.</h2>
        </header>

        <section>
            <p>K-nearest neighbors (kNN) is an algorithm used to show how you could build models for predicting observations given a set of examples. kNN works by taking a new item for which you want a numerical prediction and comparing it to a set of items for which it already has values. It finds the ones most similar to the item in question and averages their values to get a predicted value.</p>

<p>We will be using the same item model built during part 1.</p>

<p>The first thing we’ll need is a way to measure how similar two observations are. There are multiple choices for calculating similarity; based on Euclidean distance, Pearson correlation and Tanimoto score. We will be using the Euclidean distance for our solution.</p>

<p>It’s always wise to take more than one neighbor, because you’d never know if its is just an anomaly. The k in k-nearest neighbors refers to how many of the top matches you use for averaging.</p>

<p>An extension to the basic averaging is to use a weighted average based on how far away the neighbors are. A very close neighbor would count for more than an item that was further away. The weights would be in proportion to the total distance. We will be using 3 kind of weighted average functions: inverse weight, subtract weight and gaussian weight.</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="lineno">  1</span> <span class="k">class</span> <span class="nc">KNN</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="lineno">  2</span> 
<span class="lineno">  3</span>     <span class="nd">@staticmethod</span>
<span class="lineno">  4</span>     <span class="k">def</span> <span class="nf">euclidean</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">):</span>
<span class="lineno">  5</span>         <span class="n">d</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="lineno">  6</span>         <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v1</span><span class="p">)):</span>
<span class="lineno">  7</span>             <span class="n">d</span> <span class="o">+=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span>
<span class="lineno">  8</span>         <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="lineno">  9</span> 
<span class="lineno"> 10</span>     <span class="nd">@staticmethod</span>
<span class="lineno"> 11</span>     <span class="k">def</span> <span class="nf">all_distances</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<span class="lineno"> 12</span>         <span class="n">len_coords</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="lineno"> 13</span>         <span class="k">if</span> <span class="n">mask</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
<span class="lineno"> 14</span>             <span class="n">mask</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">len_coords</span><span class="p">)]</span>
<span class="lineno"> 15</span>         <span class="n">distancelist</span> <span class="o">=</span> <span class="p">[]</span>
<span class="lineno"> 16</span>         <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)):</span>
<span class="lineno"> 17</span>             <span class="n">item2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="lineno"> 18</span>             <span class="n">distancelist</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">KNN</span><span class="o">.</span><span class="n">euclidean</span><span class="p">([</span><span class="n">item</span><span class="o">.</span><span class="n">scaled_coords</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">len_coords</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mask</span><span class="p">],</span>
<span class="lineno"> 19</span>                                                <span class="p">[</span><span class="n">item2</span><span class="o">.</span><span class="n">scaled_coords</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">len_coords</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mask</span><span class="p">]),</span> <span class="n">i</span><span class="p">))</span>
<span class="lineno"> 20</span>         <span class="n">distancelist</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="lineno"> 21</span>         <span class="k">return</span> <span class="n">distancelist</span>
<span class="lineno"> 22</span> 
<span class="lineno"> 23</span>     <span class="nd">@staticmethod</span>
<span class="lineno"> 24</span>     <span class="k">def</span> <span class="nf">inverse_weight</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="mf">0.1</span><span class="p">):</span>
<span class="lineno"> 25</span>         <span class="k">return</span> <span class="n">num</span> <span class="o">/</span> <span class="p">(</span><span class="n">dist</span> <span class="o">+</span> <span class="n">const</span><span class="p">)</span>
<span class="lineno"> 26</span> 
<span class="lineno"> 27</span>     <span class="nd">@staticmethod</span>
<span class="lineno"> 28</span>     <span class="k">def</span> <span class="nf">subtract_weight</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
<span class="lineno"> 29</span>         <span class="k">if</span> <span class="n">dist</span> <span class="o">&gt;</span> <span class="n">const</span><span class="p">:</span>
<span class="lineno"> 30</span>             <span class="k">return</span> <span class="mi">0</span>
<span class="lineno"> 31</span>         <span class="k">else</span><span class="p">:</span>
<span class="lineno"> 32</span>             <span class="k">return</span> <span class="n">const</span> <span class="o">-</span> <span class="n">dist</span>
<span class="lineno"> 33</span> 
<span class="lineno"> 34</span>     <span class="nd">@staticmethod</span>
<span class="lineno"> 35</span>     <span class="k">def</span> <span class="nf">gaussian</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">10.0</span><span class="p">):</span>
<span class="lineno"> 36</span>         <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">e</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="n">dist</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">sigma</span> <span class="o">**</span> <span class="mi">2</span><span class="p">))</span>
<span class="lineno"> 37</span> 
<span class="lineno"> 38</span>     <span class="nd">@staticmethod</span>
<span class="lineno"> 39</span>     <span class="k">def</span> <span class="nf">knn_estimate</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<span class="lineno"> 40</span>         <span class="c"># Get sorted distances</span>
<span class="lineno"> 41</span>         <span class="n">all_dist</span> <span class="o">=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">all_distances</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>
<span class="lineno"> 42</span>         <span class="n">avg</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="lineno"> 43</span>         <span class="c"># Take the average of the top k results</span>
<span class="lineno"> 44</span>         <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
<span class="lineno"> 45</span>             <span class="n">idx</span> <span class="o">=</span> <span class="n">all_dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="lineno"> 46</span>             <span class="n">avg</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="lineno"> 47</span>         <span class="c">#avg=avg/k</span>
<span class="lineno"> 48</span>         <span class="n">result</span> <span class="o">=</span> <span class="s">&quot;-1&quot;</span>
<span class="lineno"> 49</span>         <span class="k">if</span> <span class="n">avg</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="lineno"> 50</span>             <span class="n">result</span> <span class="o">=</span> <span class="s">&quot;+1&quot;</span>
<span class="lineno"> 51</span>         <span class="k">return</span> <span class="n">result</span>
<span class="lineno"> 52</span> 
<span class="lineno"> 53</span>     <span class="nd">@staticmethod</span>
<span class="lineno"> 54</span>     <span class="k">def</span> <span class="nf">weighted_knn</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">weight_f</span><span class="o">=</span><span class="s">&quot;gaussian&quot;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<span class="lineno"> 55</span>         <span class="k">if</span> <span class="n">weight_f</span> <span class="o">==</span> <span class="s">&quot;subtract_weight&quot;</span><span class="p">:</span>
<span class="lineno"> 56</span>             <span class="n">weightf</span> <span class="o">=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">subtract_weight</span>
<span class="lineno"> 57</span>         <span class="k">elif</span> <span class="n">weight_f</span> <span class="o">==</span> <span class="s">&quot;inverse_weight&quot;</span><span class="p">:</span>
<span class="lineno"> 58</span>             <span class="n">weightf</span> <span class="o">=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">inverse_weight</span>
<span class="lineno"> 59</span>         <span class="k">elif</span> <span class="n">weight_f</span> <span class="o">==</span> <span class="s">&quot;gaussian&quot;</span><span class="p">:</span>
<span class="lineno"> 60</span>             <span class="n">weightf</span> <span class="o">=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">gaussian</span>
<span class="lineno"> 61</span>         <span class="c"># Get distances</span>
<span class="lineno"> 62</span>         <span class="n">all_dist</span> <span class="o">=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">all_distances</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>
<span class="lineno"> 63</span>         <span class="n">avg</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="lineno"> 64</span>         <span class="n">totalweight</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="lineno"> 65</span>         <span class="c"># Get weighted average</span>
<span class="lineno"> 66</span>         <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
<span class="lineno"> 67</span>             <span class="n">dist</span> <span class="o">=</span> <span class="n">all_dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno"> 68</span>             <span class="n">idx</span> <span class="o">=</span> <span class="n">all_dist</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="lineno"> 69</span>             <span class="n">weight</span> <span class="o">=</span> <span class="n">weightf</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span>
<span class="lineno"> 70</span>             <span class="n">avg</span> <span class="o">+=</span> <span class="n">weight</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="lineno"> 71</span>             <span class="n">totalweight</span> <span class="o">+=</span> <span class="n">weight</span>
<span class="lineno"> 72</span>         <span class="c">#avg=avg/totalweight</span>
<span class="lineno"> 73</span>         <span class="n">result</span> <span class="o">=</span> <span class="s">&quot;-1&quot;</span>
<span class="lineno"> 74</span>         <span class="k">if</span> <span class="n">avg</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="lineno"> 75</span>             <span class="n">result</span> <span class="o">=</span> <span class="s">&quot;+1&quot;</span>
<span class="lineno"> 76</span>         <span class="k">return</span> <span class="n">result</span>
<span class="lineno"> 77</span> 
<span class="lineno"> 78</span>     <span class="nd">@staticmethod</span>
<span class="lineno"> 79</span>     <span class="k">def</span> <span class="nf">divide_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="mf">0.05</span><span class="p">):</span>
<span class="lineno"> 80</span>         <span class="n">trainset</span> <span class="o">=</span> <span class="p">[]</span>
<span class="lineno"> 81</span>         <span class="n">testset</span> <span class="o">=</span> <span class="p">[]</span>
<span class="lineno"> 82</span>         <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
<span class="lineno"> 83</span>             <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">test</span><span class="p">:</span>
<span class="lineno"> 84</span>                 <span class="n">testset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="lineno"> 85</span>             <span class="k">else</span><span class="p">:</span>
<span class="lineno"> 86</span>                 <span class="n">trainset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="lineno"> 87</span>         <span class="k">return</span> <span class="n">trainset</span><span class="p">,</span> <span class="n">testset</span>
<span class="lineno"> 88</span> 
<span class="lineno"> 89</span>     <span class="nd">@staticmethod</span>
<span class="lineno"> 90</span>     <span class="k">def</span> <span class="nf">test_algorithm</span><span class="p">(</span><span class="n">algf</span><span class="p">,</span> <span class="n">trainset</span><span class="p">,</span> <span class="n">testset</span><span class="p">):</span>
<span class="lineno"> 91</span>         <span class="n">error</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="lineno"> 92</span>         <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">testset</span><span class="p">:</span>
<span class="lineno"> 93</span>             <span class="n">guess</span> <span class="o">=</span> <span class="n">algf</span><span class="p">(</span><span class="n">trainset</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
<span class="lineno"> 94</span>             <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">value</span> <span class="o">!=</span> <span class="n">guess</span><span class="p">:</span>
<span class="lineno"> 95</span>                 <span class="n">error</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="lineno"> 96</span>         <span class="k">return</span> <span class="n">error</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">testset</span><span class="p">)</span>
<span class="lineno"> 97</span> 
<span class="lineno"> 98</span>     <span class="nd">@staticmethod</span>
<span class="lineno"> 99</span>     <span class="k">def</span> <span class="nf">cross_validate</span><span class="p">(</span><span class="n">algf</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">trials</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="mf">0.05</span><span class="p">):</span>
<span class="lineno">100</span>         <span class="n">error</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="lineno">101</span>         <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
<span class="lineno">102</span>             <span class="n">trainset</span><span class="p">,</span> <span class="n">testset</span> <span class="o">=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">divide_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">test</span><span class="p">)</span>
<span class="lineno">103</span>             <span class="n">error</span> <span class="o">+=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">test_algorithm</span><span class="p">(</span><span class="n">algf</span><span class="p">,</span> <span class="n">trainset</span><span class="p">,</span> <span class="n">testset</span><span class="p">)</span>
<span class="lineno">104</span>         <span class="k">return</span> <span class="n">error</span> <span class="o">/</span> <span class="n">trials</span></code></pre></div>

<p>The object also introduce some utilities to cross validate the test data, by dividing and testing.</p>

<p>It’s also wise to point out that scaling data is important, the same way it is important to get rid of the dimensions that only introduces anomalies to our model. for this purpose we need a utility function that creates a mask for the useful dimensions and their scores.</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="lineno"> 1</span> <span class="k">def</span> <span class="nf">create_score_factors_linear_knn</span><span class="p">(</span><span class="n">training_data</span><span class="p">,</span> <span class="n">classify_data</span><span class="p">,</span> <span class="n">results</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">8</span><span class="p">):</span>
<span class="lineno"> 2</span>     <span class="n">len_coords</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">training_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="lineno"> 3</span>     <span class="n">corrects</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">len_coords</span>
<span class="lineno"> 4</span>     <span class="n">t_corrects</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">len_coords</span>
<span class="lineno"> 5</span>     <span class="n">f_corrects</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">len_coords</span>
<span class="lineno"> 6</span>     <span class="n">factors</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">len_coords</span>
<span class="lineno"> 7</span>     <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">len_coords</span>
<span class="lineno"> 8</span>     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">len_coords</span><span class="p">):</span>
<span class="lineno"> 9</span>         <span class="n">means</span> <span class="o">=</span> <span class="n">linear_mean</span><span class="p">(</span><span class="n">training_set</span><span class="p">,</span> <span class="s">&quot;+1&quot;</span><span class="p">,</span> <span class="s">&quot;-1&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="lineno">10</span>         <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">classify_data</span><span class="p">:</span>
<span class="lineno">11</span>             <span class="k">if</span> <span class="n">dot_product_classification</span><span class="p">(</span><span class="n">obs</span><span class="p">,</span> <span class="n">means</span><span class="p">,</span> <span class="s">&quot;+1&quot;</span><span class="p">,</span> <span class="s">&quot;-1&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="n">results</span><span class="p">[</span><span class="n">obs</span><span class="o">.</span><span class="n">id</span><span class="p">]:</span>
<span class="lineno">12</span>                 <span class="n">corrects</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="lineno">13</span>                 <span class="k">if</span> <span class="n">results</span><span class="p">[</span><span class="n">obs</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;-1&quot;</span><span class="p">:</span>
<span class="lineno">14</span>                     <span class="n">f_corrects</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="lineno">15</span>                 <span class="k">else</span><span class="p">:</span>
<span class="lineno">16</span>                     <span class="n">t_corrects</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="lineno">17</span>     <span class="k">print</span> <span class="n">corrects</span>
<span class="lineno">18</span>     <span class="k">print</span> <span class="n">t_corrects</span>
<span class="lineno">19</span>     <span class="k">print</span> <span class="n">f_corrects</span>
<span class="lineno">20</span>     <span class="n">scores</span> <span class="o">=</span> <span class="p">[(</span><span class="n">corrects</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">len_coords</span><span class="p">)]</span>
<span class="lineno">21</span>     <span class="n">scores</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="lineno">22</span>     <span class="n">mask</span> <span class="o">=</span> <span class="p">[</span><span class="n">scores</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]]</span>
<span class="lineno">23</span>     <span class="n">current_correct</span> <span class="o">=</span> <span class="n">scores</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno">24</span>     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">len_coords</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
<span class="lineno">25</span>         <span class="n">new_mask</span> <span class="o">=</span> <span class="n">mask</span><span class="p">[:]</span>
<span class="lineno">26</span>         <span class="n">new_mask</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scores</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
<span class="lineno">27</span>         <span class="n">correct</span> <span class="o">=</span> <span class="mi">0</span>
<span class="lineno">28</span>         <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">classify_data</span><span class="p">:</span>
<span class="lineno">29</span>             <span class="n">cr</span> <span class="o">=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">knn_estimate</span><span class="p">(</span><span class="n">training_data</span><span class="p">,</span> <span class="n">obs</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>
<span class="lineno">30</span>             <span class="k">if</span> <span class="n">cr</span> <span class="o">==</span> <span class="n">results</span><span class="p">[</span><span class="n">obs</span><span class="o">.</span><span class="n">id</span><span class="p">]:</span>
<span class="lineno">31</span>                 <span class="n">correct</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="lineno">32</span>         <span class="k">if</span> <span class="n">correct</span> <span class="o">&gt;=</span> <span class="n">current_correct</span> <span class="o">-</span> <span class="mi">5</span><span class="p">:</span>
<span class="lineno">33</span>             <span class="n">current_correct</span> <span class="o">=</span> <span class="n">correct</span>
<span class="lineno">34</span>             <span class="n">mask</span> <span class="o">=</span> <span class="n">new_mask</span><span class="p">[:]</span>
<span class="lineno">35</span>     <span class="n">min_corrects</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">corrects</span><span class="p">)</span>
<span class="lineno">36</span>     <span class="n">max_corrects</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">corrects</span><span class="p">)</span>
<span class="lineno">37</span>     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">len_coords</span><span class="p">):</span>
<span class="lineno">38</span>         <span class="n">factors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">corrects</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">min_corrects</span><span class="p">)</span> <span class="o">/</span> <span class="p">((</span><span class="n">max_corrects</span> <span class="o">-</span> <span class="n">min_corrects</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.000001</span><span class="p">))</span>
<span class="lineno">39</span>     <span class="k">return</span> <span class="n">mask</span><span class="p">,</span> <span class="n">factors</span></code></pre></div>

<p>Finally to run everything together, we need to read and check values:</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="lineno"> 1</span> <span class="n">r_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;test.txt&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="lineno"> 2</span> <span class="n">w_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;results.txt&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="lineno"> 3</span> <span class="n">N</span><span class="p">,</span> <span class="n">M</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
<span class="lineno"> 4</span> <span class="n">training_set</span> <span class="o">=</span> <span class="p">[]</span>
<span class="lineno"> 5</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
<span class="lineno"> 6</span>     <span class="n">current_line</span> <span class="o">=</span> <span class="n">r_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="lineno"> 7</span>     <span class="nb">id</span> <span class="o">=</span> <span class="n">current_line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno"> 8</span>     <span class="n">value</span> <span class="o">=</span> <span class="n">current_line</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="lineno"> 9</span>     <span class="n">coords</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">current_line</span><span class="p">[</span><span class="mi">2</span><span class="p">:]]</span>
<span class="lineno">10</span>     <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">==</span> <span class="n">M</span>
<span class="lineno">11</span>     <span class="c">#coords=[coords[i] for i in xrange(M) if i in [1, 2, 4, 6, 7, 11, 14, 18]]</span>
<span class="lineno">12</span>     <span class="n">training_set</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Item</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="n">coords</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">))</span>
<span class="lineno">13</span> <span class="n">Q</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">r_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">))</span>
<span class="lineno">14</span> <span class="n">classify_set</span> <span class="o">=</span> <span class="p">[]</span>
<span class="lineno">15</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">Q</span><span class="p">):</span>
<span class="lineno">16</span>     <span class="n">current_line</span> <span class="o">=</span> <span class="n">r_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="lineno">17</span>     <span class="nb">id</span> <span class="o">=</span> <span class="n">current_line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno">18</span>     <span class="n">coords</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">current_line</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
<span class="lineno">19</span>     <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">==</span> <span class="n">M</span>
<span class="lineno">20</span>     <span class="c">#coords=[coords[i] for i in xrange(M) if i in [1, 2, 4, 6, 7, 11, 14, 18]]</span>
<span class="lineno">21</span>     <span class="n">classify_set</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Item</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="n">coords</span><span class="p">))</span>
<span class="lineno">22</span> <span class="c">#reading the results</span>
<span class="lineno">23</span> <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
<span class="lineno">24</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">Q</span><span class="p">):</span>
<span class="lineno">25</span>     <span class="n">current_line</span> <span class="o">=</span> <span class="n">w_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="lineno">26</span>     <span class="n">results</span><span class="p">[</span><span class="n">current_line</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">current_line</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="lineno">27</span> 
<span class="lineno">28</span> <span class="n">mask</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">18</span><span class="p">]</span>
<span class="lineno">29</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">training_set</span><span class="p">:</span>
<span class="lineno">30</span>     <span class="n">item</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span>
<span class="lineno">31</span> <span class="n">correct</span> <span class="o">=</span> <span class="mi">0</span>
<span class="lineno">32</span> <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">classify_set</span><span class="p">:</span>
<span class="lineno">33</span>     <span class="n">obs</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span>
<span class="lineno">34</span>     <span class="n">cr</span> <span class="o">=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">knn_estimate</span><span class="p">(</span><span class="n">training_set</span><span class="p">,</span> <span class="n">obs</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
<span class="lineno">35</span>     <span class="k">if</span> <span class="n">cr</span> <span class="o">==</span> <span class="n">results</span><span class="p">[</span><span class="n">obs</span><span class="o">.</span><span class="n">id</span><span class="p">]:</span>
<span class="lineno">36</span>         <span class="n">correct</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="lineno">37</span> <span class="k">print</span> <span class="n">correct</span>
<span class="lineno">38</span> <span class="n">correct</span> <span class="o">=</span> <span class="mi">0</span>
<span class="lineno">39</span> <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">classify_set</span><span class="p">:</span>
<span class="lineno">40</span>     <span class="n">cr</span> <span class="o">=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">weighted_knn</span><span class="p">(</span><span class="n">training_set</span><span class="p">,</span> <span class="n">obs</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
<span class="lineno">41</span>     <span class="k">if</span> <span class="n">cr</span> <span class="o">==</span> <span class="n">results</span><span class="p">[</span><span class="n">obs</span><span class="o">.</span><span class="n">id</span><span class="p">]:</span>
<span class="lineno">42</span>         <span class="n">correct</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="lineno">43</span> <span class="k">print</span> <span class="n">correct</span>
<span class="lineno">44</span> <span class="n">correct</span> <span class="o">=</span> <span class="mi">0</span>
<span class="lineno">45</span> <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">classify_set</span><span class="p">:</span>
<span class="lineno">46</span>     <span class="n">cr</span> <span class="o">=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">weighted_knn</span><span class="p">(</span><span class="n">training_set</span><span class="p">,</span> <span class="n">obs</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">weight_f</span><span class="o">=</span><span class="s">&quot;subtract_weight&quot;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
<span class="lineno">47</span>     <span class="k">if</span> <span class="n">cr</span> <span class="o">==</span> <span class="n">results</span><span class="p">[</span><span class="n">obs</span><span class="o">.</span><span class="n">id</span><span class="p">]:</span>
<span class="lineno">48</span>         <span class="n">correct</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="lineno">49</span> <span class="k">print</span> <span class="n">correct</span>
<span class="lineno">50</span> <span class="n">correct</span> <span class="o">=</span> <span class="mi">0</span>
<span class="lineno">51</span> <span class="k">for</span> <span class="n">obs</span> <span class="ow">in</span> <span class="n">classify_set</span><span class="p">:</span>
<span class="lineno">52</span>     <span class="n">cr</span> <span class="o">=</span> <span class="n">KNN</span><span class="o">.</span><span class="n">weighted_knn</span><span class="p">(</span><span class="n">training_set</span><span class="p">,</span> <span class="n">obs</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">weight_f</span><span class="o">=</span><span class="s">&quot;inverse_weight&quot;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
<span class="lineno">53</span>     <span class="k">if</span> <span class="n">cr</span> <span class="o">==</span> <span class="n">results</span><span class="p">[</span><span class="n">obs</span><span class="o">.</span><span class="n">id</span><span class="p">]:</span>
<span class="lineno">54</span>         <span class="n">correct</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="lineno">55</span> <span class="k">print</span> <span class="n">correct</span></code></pre></div>

<p>As you can see there’s a mask, it’s the best mask that I found, and you should note that we scale all observations before training and predicting.</p>

            
<div class="social">
  
  <div class='twitter'>
    <a href="https://twitter.com/share" class="twitter-share-button"  data-text="Quora Answer Classifier (Part 2, with KNN)." data-related="mmourafiq">Tweet</a>
  </div>
  

  
  <div class='facebook'>
    <div class="fb-share-button" data-layout="button_count"></div>
  </div>
  

  
  <div class='google'>
    <div class="g-plusone" data-size="medium"></div>
  </div>
  
    
  
  <div class='hn'>
    <a href="https://news.ycombinator.com/submit" class="hn-button" data-title="Quora Answer Classifier (Part 2, with KNN)." data-url="http://mourafiq.com/2012/12/01/quora-answer-classifier-2.html" data-count="horizontal">Vote on Hacker News</a>
  </div>
  

  
  <div class='reddit'>
    <a href="//www.reddit.com/submit" onclick="window.open('//www.reddit.com/submit?url=http://mourafiq.com/2012/12/01/quora-answer-classifier-2.html&title=Quora+Answer+Classifier+%28Part+2%2C+with+KNN%29.'); return false"> <img src="//www.redditstatic.com/spreddit7.gif" alt="submit to reddit" border="0" /> </a>
  </div>
  
</div>

        </section>

        <footer>
            <address>
                <img src="/images/logo.png">
                <p>
                Written by <strong><a rel="author" href="https://twitter.com/mmourafiq" title="Mourad Mourafiq." target="_blank">Mourad Mourafiq.</a></strong><br>
                    <span class="muted">Maths, Technology, Philosophy, Startups, ...</span>
                </p>
            </address>
            
            
            <section class="post_summary">
                <h3 class="title">Next up: <a href="/2012/12/15/quora-answer-classifier-3.html" rel="prefetch">Quora Answer Classifier (Part 3, linear and non linear classifiers).</a></h3>
                <p>Designing an algorithm to develop classifier that is able to tell good answers from bad answers, as well as humans can.</p>
                <hr>
            </section>
             
            
            
            <section class="post_summary">
                <h3 class="title">Previous story: <a href="/2012/11/15/quora-answer-classifier-1.html" rel="prefetch">Quora Answer Classifier (Part 1, with decision tree learning).</a></h3>
                <p>Designing an algorithm to develop classifier that is able to tell good answers from bad answers, as well as humans can.</p>
                <hr>
            </section>
             
            
            <section>
                <div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'mourafiq';

  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
            </section>
            
        </footer>
    </div>
</article>


    <footer class="site-footer">
        <div class="container">
            &copy; 2016 Mourad Mourafiq

            <nav>
                <a href="/">Blog</a> &middot;
                <a href="/about.html">About</a>
            </nav>

            <nav class="social">
                
<a href="https://twitter.com/mmourafiq" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter"></i></a>


<a href="https://github.com/mouradmourafiq" title="Watch on Github" target="_blank"><i class="icon icon-github"></i></a>


<a href="/atom.xml" title="RSS Feed">
  <i class="icon icon-rss"></i>
</a>

            </nav>
            <div>Based on Incorporated theme by <a href="https://sendtoinc.com">Inc</a></div>
        </div>
    </footer>

</body>
</html>
